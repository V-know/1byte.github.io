<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="Gavin Wei">



<meta name="description" content="Use the InfluxDB HTTP API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &quot;pprof&quot; profiles.">
<meta property="og:type" content="website">
<meta property="og:title" content="InfluxDB HTTP API reference">
<meta property="og:url" content="http://1byte.pro/influxdb/index.html">
<meta property="og:site_name" content="Just 1 Byte">
<meta property="og:description" content="Use the InfluxDB HTTP API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &quot;pprof&quot; profiles.">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-05-09T08:48:03.987Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="InfluxDB HTTP API reference">
<meta name="twitter:description" content="Use the InfluxDB HTTP API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &quot;pprof&quot; profiles.">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">




    <link rel="shortcut icon" href="/img/favicon.ico">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-big-counter.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>InfluxDB HTTP API reference | Just 1 Byte</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>



    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b6bfb7348dc08eb"></script>




</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/head.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Gavin Wei</a></h1>
        </hgroup>

        
        <p class="header-subtitle">○|||||||○</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false">
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/about">九评博主</a></li>
                        
                            <li><a href="/archives">文章归档</a></li>
                        
                            <li><a href="/wallstreetcn">财经时讯</a></li>
                        
                            <li><a href="/influxdb">InfluxDB</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa 简书" href="http://www.jianshu.com/users/7a890139a00e/latest_articles" title="简书"></a>
                            
                                <a class="fa Twitter" href="http://twitter.com/mrunamed" title="Twitter"></a>
                            
                                <a class="fa Quora" href="https://www.quora.com/profile/Gavin-Hill-5" title="Quora"></a>
                            
                                <a class="fa CSDN" href="mailto:none@canstop.me" title="CSDN"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ansible/">Ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/">Bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bigdata/">BigData</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/celery/">Celery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chromium/">Chromium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dind/">DIND</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exception/">Exception</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">Flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flume/">Flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/freeipa/">FreeIPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">Gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">Hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/issue/">Issue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jira/">Jira</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">Kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/monitor/">Monitor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/monitoring/">Monitoring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/playbook/">Playbook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prometheus/">Prometheus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/robustness/">Robustness</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlalchemy/">SQLAlchemy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/">Scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/selenium/">Selenium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shame/">Shame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">Spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/troubleshooting/">Troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/v/">V</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/collectd/">collectd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/container/">container</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fabfile/">fabfile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fabric/">fabric</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grafana/">grafana</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graphite/">graphite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/image/">image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jira/">jira</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lorote/">lorote</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/percona/">percona</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/seyren/">seyren</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ss5/">ss5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作笔记/">工作笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能优化/">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日志切割/">日志切割</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/红芯浏览器/">红芯浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集群/">集群</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/雕虫小技/">雕虫小技</a></li></ul>
                    </div>
                </section>
                
                
                

                
                
                <section class="switch-part switch-part3">
                
                    <div id="js-aboutme">爱单车、爱Linux、学摄影 《Ansible权威指南》作者</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Gavin Wei</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/head.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Gavin Wei</a></h1>
            </hgroup>
            
            <p class="header-subtitle">○|||||||○</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/about">九评博主</a></li>
                
                    <li><a href="/archives">文章归档</a></li>
                
                    <li><a href="/wallstreetcn">财经时讯</a></li>
                
                    <li><a href="/influxdb">InfluxDB</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa 简书" target="_blank" href="http://www.jianshu.com/users/7a890139a00e/latest_articles" title="简书"></a>
                            
                                <a class="fa Twitter" target="_blank" href="http://twitter.com/mrunamed" title="Twitter"></a>
                            
                                <a class="fa Quora" target="_blank" href="https://www.quora.com/profile/Gavin-Hill-5" title="Quora"></a>
                            
                                <a class="fa CSDN" target="_blank" href="mailto:none@canstop.me" title="CSDN"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我">
</nav>
      <div class="body-wrap"><article id="page-" class="article article-type-page" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/influxdb/index.html" class="article-date">
      <time datetime="2019-05-09T06:27:05.000Z" itemprop="datePublished">2019-05-09</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      InfluxDB HTTP API reference
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <style>
    .article-meta { display: none; }
    #container .article .article-title { padding-right: 0; }
    .article-header {
        padding: 0;
        padding-top: 26px;
        border-left: none;
        text-align: center;
    }
    .article-header:hover { border-left: none; }
    .article-title { font-size: 1.6em }
    .article-entry hr { margin: 0;}
    .article-meta,
    #container .article-info-post.article-info { display: none;}
    #container .article .article-title { padding: 0; }
</style>


          
        <p>The InfluxDB HTTP API provides a simple way interact with the database.<br>It uses HTTP response codes, HTTP authentication, JWT Tokens, and basic authentication, and responses are returned in JSON.</p>
<p>The following sections assume your InfluxDB instance is running on <code>localhost</code><br>port <code>8086</code> and HTTPS is not enabled.<br>Those settings <a href="/influxdb/v1.7/administration/config/#http-endpoints-settings">are configurable</a>.</p>
<h2 id="InfluxDB-HTTP-endpoints"><a href="#InfluxDB-HTTP-endpoints" class="headerlink" title="InfluxDB HTTP endpoints"></a>InfluxDB HTTP endpoints</h2><table>
<thead>
<tr>
<th style="text-align:left">Endpoint</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="#debug-pprof-http-endpoint">/debug/pprof </a></td>
<td style="text-align:left">Use <code>/debug/pprof</code> to generate profiles for troubleshooting.</td>
</tr>
<tr>
<td style="text-align:left"><a href="#debug-requests-http-endpoint">/debug/requests</a></td>
<td style="text-align:left">Use <code>/debug/requests/</code> to track HTTP client requests to the <code>/write</code> and <code>/query</code> endpoints.</td>
</tr>
<tr>
<td style="text-align:left"><a href="#debug-vars-http-endpoint">/debug/vars</a></td>
<td style="text-align:left">Use <code>/debug/vars</code> to collect statistics</td>
</tr>
<tr>
<td style="text-align:left"><a href="#ping-http-endpoint">/ping</a></td>
<td style="text-align:left">Use <code>/ping</code> to check the status of your InfluxDB instance and your version of InfluxDB.</td>
</tr>
<tr>
<td style="text-align:left"><a href="#query-http-endpoint">/query</a></td>
<td style="text-align:left">Use <code>/query</code> to query data and manage databases, retention policies, and users.</td>
</tr>
<tr>
<td style="text-align:left"><a href="#write-http-endpoint">/write</a></td>
<td style="text-align:left">Use <code>/write</code> to write data to a pre-existing database.</td>
</tr>
</tbody>
</table>
<h2 id="debug-pprof-HTTP-endpoint"><a href="#debug-pprof-HTTP-endpoint" class="headerlink" title="/debug/pprof HTTP endpoint"></a><code>/debug/pprof</code> HTTP endpoint</h2><p>InfluxDB supports the Go <a href="https://golang.org/pkg/net/http/pprof/" target="_blank" rel="noopener"><code>net/http/pprof</code></a> HTTP endpoints, which are useful for troubleshooting. The <code>pprof</code> package serves runtime profiling data in the format expected by the <em>pprof</em> visualization tool.</p>
<h4 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http:<span class="regexp">//</span>localhost:<span class="number">8086</span><span class="regexp">/debug/</span>pprof<span class="regexp">/</span></span><br></pre></td></tr></table></figure>
<p>The <code>/debug/pprof/</code> endpoint generates an HTML page with a list of built-in Go profiles and hyperlinks for each.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Profile</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">block</td>
<td style="text-align:left">Stack traces that led to blocking on synchronization primitives.</td>
</tr>
<tr>
<td style="text-align:left">goroutine</td>
<td style="text-align:left">Stack traces of all current goroutines.</td>
</tr>
<tr>
<td style="text-align:left">heap</td>
<td style="text-align:left">Sampling of stack traces for heap allocations.</td>
</tr>
<tr>
<td style="text-align:left">mutex</td>
<td style="text-align:left">Stack traces of holders of contended mutexes.</td>
</tr>
<tr>
<td style="text-align:left">threadcreate</td>
<td style="text-align:left">Stack traces that led to the creation of new OS threads.</td>
</tr>
</tbody>
</table>
<p>To access one of the the <code>/debug/pprof/</code> profiles listed above, use the following cURL request, substituting <code>&lt;profile&gt;</code> with the name of the profile. The resulting profile is output to a file specified in <code>&lt;path/to/output-file&gt;</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o &lt;path/to/output-file&gt;  http://localhost:8086/debug/pprof/&lt;profile&gt;</span><br></pre></td></tr></table></figure>
<p>In the following example, the cURL command outputs the resulting heap profile to a file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o &lt;path/to/output-file&gt; http://localhost:/8086/debug/pprof/heap</span><br></pre></td></tr></table></figure>
<p>You can also use the <a href="https://github.com/google/pprof" target="_blank" rel="noopener">Go <code>pprof</code> interactive tool</a> to access the InfluxDB <code>/debug/pprof/</code> profiles.<br>For example, to look at the heap profile of a InfluxDB instance using this tool, you would use a command like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go tool pprof http://localhost:8086/debug/pprof/heap</span><br></pre></td></tr></table></figure>
<p>For more information about the Go <code>/net/http/pprof</code> package and the interactive <em>pprof</em> analysis and visualization tool, see:</p>
<ul>
<li><a href="https://golang.org/pkg/net/http/pprof/" target="_blank" rel="noopener">Package pprof (<code>net/http/pprof</code>)</a></li>
<li><a href="https://github.com/google/pprof" target="_blank" rel="noopener"><code>pprof</code> analysis and visualization tool</a></li>
<li><a href="https://blog.golang.org/profiling-go-programs" target="_blank" rel="noopener">Profiling Go programs</a></li>
<li><a href="https://golang.org/doc/diagnostics.html#profiling" target="_blank" rel="noopener">Diagnostics - Profiling</a></li>
</ul>
<h4 id="debug-pprof-all-HTTP-endpoint"><a href="#debug-pprof-all-HTTP-endpoint" class="headerlink" title="/debug/pprof/all HTTP endpoint"></a><code>/debug/pprof/all</code> HTTP endpoint</h4><p>The <code>/debug/pprof/all</code> endpoint is a custom <code>/debug/pprof</code> profile intended primarily for use by InfluxData support. This endpoint generates a <code>profile.tar.gz</code> archive containing text files with the standard Go profiling information and additional debugging data. An optional CPU profile is generated when using the <code>cpu=true</code> option (default is <code>false</code>).</p>
<p>To create a <code>profile.tar.gz</code> archive, use the following cURL command to generate a <code>profile.tar.gz</code> file for sharing with InfluxData support.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o profiles.tar.gz <span class="string">"http://localhost:8086/debug/pprof/all?cpu=true"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Note:</strong> When the <code>cpu=true</code> option is included, a CPU profile is generated for 30+ seconds.<br>If you’re concerned about running a CPU profile (which only has a small, temporary impact on performance), then you can set <code>?cpu=false</code> or omit <code>?cpu=true</code> altogether.</p>
</blockquote>
<p>As the following example shows, the cURL output includes “Time Spent,” the time elapsed (in  seconds). After 30 seconds of data has been collected, the results are output to a file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ curl -o profiles.tar.gz <span class="string">"http://localhost:8086/debug/pprof/all?cpu=true"</span></span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100  237k    0  237k    0     0   8025      0 --:--:--  0:00:30 --:--:-- 79588</span><br></pre></td></tr></table></figure>
<h2 id="debug-requests-HTTP-endpoint"><a href="#debug-requests-HTTP-endpoint" class="headerlink" title="/debug/requests HTTP endpoint"></a><code>/debug/requests</code> HTTP endpoint</h2><p>Use this endpoint to track HTTP client requests to the <code>/write</code> and <code>/query</code> endpoints.<br>The <code>/debug/requests</code> endpoint returns the number of writes and queries to InfluxDB per username and IP address.</p>
<h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8086/debug/requests</span><br></pre></td></tr></table></figure>
<h3 id="Query-string-parameters"><a href="#Query-string-parameters" class="headerlink" title="Query string parameters"></a>Query string parameters</h3><table>
<thead>
<tr>
<th style="text-align:left">Query String Parameter</th>
<th style="text-align:left">Optional/Required</th>
<th style="text-align:left">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">seconds=\&lt;integer></td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Sets the duration (in seconds) over which the client collects information. The default duration is ten seconds.</td>
</tr>
</tbody>
</table>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Track-requests-over-a-ten-second-interval"><a href="#Track-requests-over-a-ten-second-interval" class="headerlink" title="Track requests over a ten-second interval"></a>Track requests over a ten-second interval</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8086/debug/requests</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"user1:123.45.678.91"</span>: &#123;<span class="string">"writes"</span>:1,<span class="string">"queries"</span>:0&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The response shows that, over the past ten seconds, the <code>user1</code> user sent one request to the <code>/write</code> endpoint and no requests to the <code>/query</code> endpoint from the <code>123.45.678.91</code> IP address.</p>
<h5 id="Track-requests-over-a-one-minute-interval"><a href="#Track-requests-over-a-one-minute-interval" class="headerlink" title="Track requests over a one-minute interval"></a>Track requests over a one-minute interval</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8086/debug/requests?seconds=60</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"user1:123.45.678.91"</span>: &#123;<span class="string">"writes"</span>:3,<span class="string">"queries"</span>:0&#125;,</span><br><span class="line"><span class="string">"user1:000.0.0.0"</span>: &#123;<span class="string">"writes"</span>:0,<span class="string">"queries"</span>:16&#125;,</span><br><span class="line"><span class="string">"user2:xx.xx.xxx.xxx"</span>: &#123;<span class="string">"writes"</span>:4,<span class="string">"queries"</span>:0&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The response shows that, over the past minute, <code>user1</code> sent three requests to the <code>/write</code> endpoint from <code>123.45.678.91</code>, <code>user1</code> sent 16 requests to the <code>/query</code> endpoint from <code>000.0.0.0</code>, and <code>user2</code> sent four requests to the <code>/write</code> endpoint from <code>xx.xx.xxx.xxx</code>.</p>
<h2 id="debug-vars-HTTP-endpoint"><a href="#debug-vars-HTTP-endpoint" class="headerlink" title="/debug/vars HTTP endpoint"></a><code>/debug/vars</code> HTTP endpoint</h2><p>InfluxDB exposes statistics and information about its runtime through the <code>/debug/vars</code> endpoint, which can be accessed using the following cURL command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:8086/debug/vars</span><br></pre></td></tr></table></figure>
<p>Server statistics and information are displayed in JSON format.</p>
<blockquote>
<p><strong>Note:</strong> The <a href="https://github.com/influxdata/telegraf/tree/release-1.7/plugins/inputs/influxdb" target="_blank" rel="noopener">InfluxDB input plugin</a> is available to collect metrics (using the <code>/debug/vars</code> endpoint) from specified Kapacitor instances. For a list of the measurements and fields, see the <a href="https://github.com/influxdata/telegraf/tree/release-1.7/plugins/inputs/influxdb" target="_blank" rel="noopener">InfluxDB input plugin README</a>.</p>
</blockquote>
<h2 id="ping-HTTP-endpoint"><a href="#ping-HTTP-endpoint" class="headerlink" title="/ping HTTP endpoint"></a><code>/ping</code> HTTP endpoint</h2><p>The ping endpoint accepts both <code>GET</code> and <code>HEAD</code> HTTP requests.<br>Use this endpoint to check the status of your InfluxDB instance and your version<br>of InfluxDB.</p>
<h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET <span class="string">http:</span><span class="comment">//localhost:8086/ping</span></span><br></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HEAD <span class="string">http:</span><span class="comment">//localhost:8086/ping</span></span><br></pre></td></tr></table></figure>
<h3 id="verbose-option"><a href="#verbose-option" class="headerlink" title="verbose option"></a><code>verbose</code> option</h3><p>By default, the <code>/ping</code> HTTP endpoint returns a simple HTTP 204 status response to let the client know that the server is running. Default value is <code>false</code>.<br>When <code>verbose</code> option is set to <code>true</code> (<code>/ping?verbose=true</code>), an HTTP 200 status  is returned.<br>The <code>verbose=true</code> option is required for health checks in the Google Kubernetes Cloud.</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>You can use the <code>/ping</code> endpoint to find the build and version of an InfluxDB instance.<br>The <code>X-Influxdb-Build</code> header field displays the InfluxDB build type, either <code>OSS</code> (open source) or <code>ENT</code> (Enterprise).<br>The <code>X-Influxdb-Version</code> header field displays the InfluxDB version.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">~ curl -sl -I http://localhost:8086/ping</span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: 9c353b0e-aadc-11e8-8023-000000000000</span><br><span class="line">X-Influxdb-Build: OSS</span><br><span class="line">X-Influxdb-Version: v1.7.0</span><br><span class="line">X-Request-Id: 9c353b0e-aadc-11e8-8023-000000000000</span><br><span class="line">Date: Tue, 05 Nov 2018 16:08:32 GMT</span><br></pre></td></tr></table></figure>
<h3 id="Status-Codes-and-Responses"><a href="#Status-Codes-and-Responses" class="headerlink" title="Status Codes and Responses"></a>Status Codes and Responses</h3><p>The response body is empty.</p>
<table>
<thead>
<tr>
<th style="text-align:left">HTTP Status Code</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">204</td>
<td style="text-align:left">Success! Your InfluxDB instance is up and running.</td>
</tr>
</tbody>
</table>
<h2 id="query-HTTP-endpoint"><a href="#query-HTTP-endpoint" class="headerlink" title="/query HTTP endpoint"></a><code>/query</code> HTTP endpoint</h2><p>The <code>/query</code> endpoint accepts <code>GET</code> and <code>POST</code> HTTP requests.<br>Use this endpoint to query data and manage databases, retention policies,<br>and users.</p>
<h3 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET <span class="string">http:</span><span class="comment">//localhost:8086/query</span></span><br></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST <span class="string">http:</span><span class="comment">//localhost:8086/query</span></span><br></pre></td></tr></table></figure>
<h3 id="Verb-usage"><a href="#Verb-usage" class="headerlink" title="Verb usage"></a>Verb usage</h3><table>
<thead>
<tr>
<th style="text-align:left">Verb</th>
<th style="text-align:left">Query Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">GET</td>
<td style="text-align:left">Use for all queries that start with: <br><br> <a href="/influxdb/v1.7/query_language/spec/#select"><code>SELECT</code></a>* <br><br> <a href="/influxdb/v1.7/query_language/spec/#show-continuous-queries"><code>SHOW</code></a></td>
</tr>
<tr>
<td style="text-align:left">POST</td>
<td style="text-align:left">Use for all queries that start with: <br><br> <a href="/influxdb/v1.7/query_language/spec/#alter-retention-policy"><code>ALTER</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#create-continuous-query"><code>CREATE</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#delete"><code>DELETE</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#drop-continuous-query"><code>DROP</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#grant"><code>GRANT</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#kill-query"><code>KILL</code></a> <br><br> <a href="/influxdb/v1.7/query_language/spec/#revoke"><code>REVOKE</code></a></td>
</tr>
</tbody>
</table>
<p>* The only exceptions are <code>SELECT</code> queries that include an <a href="/influxdb/v1.7/query_language/data_exploration/#the-into-clause"><code>INTO</code> clause</a>.<br>Those <code>SELECT</code> queries require a <code>POST</code> request.</p>
<h4 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Query-data-with-a-SELECT-statement"><a href="#Query-data-with-a-SELECT-statement" class="headerlink" title="Query data with a SELECT statement"></a>Query data with a <code>SELECT</code> statement</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[<span class="string">"2017-03-01T00:16:18Z"</span>,33.1,null,null],[<span class="string">"2017-03-01T00:17:18Z"</span>,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>mymeas</code> <a href="/influxdb/v1.7/concepts/glossary/#measurement">measurement</a> has two points.<br>The first point has the <a href="/influxdb/v1.7/concepts/glossary/#timestamp">timestamp</a> <code>2017-03-01T00:16:18Z</code>, a <code>myfield</code> value of <code>33.1</code>, and no tag values for the <code>mytag1</code> and <code>mytag2</code> <a href="/influxdb/v1.7/concepts/glossary/#tag-key">tag keys</a>.<br>The second point has the timestamp <code>2017-03-01T00:17:18Z</code>, a <code>myfield</code> value of <code>12.4</code>, a <code>mytag1</code> value of <code>12</code>, and a <code>mytag2</code> value of <code>14</code>.</p>
<p>The same query in InfluxDB’s <a href="/influxdb/v1.7/tools/shell/">Command Line Interface</a> (CLI) returns the following table:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">mymeas</span></span><br><span class="line"><span class="string">time</span>                  <span class="string">myfield</span>  <span class="string">mytag1</span>  <span class="string">mytag2</span></span><br><span class="line"><span class="bullet">-</span><span class="meta">---</span>                  <span class="bullet">-------</span>  <span class="bullet">------</span>  <span class="bullet">------</span></span><br><span class="line"><span class="number">2017</span><span class="bullet">-03</span><span class="bullet">-01</span><span class="attr">T00:16:18Z</span>  <span class="number">33.1</span></span><br><span class="line"><span class="number">2017</span><span class="bullet">-03</span><span class="bullet">-01</span><span class="attr">T00:17:18Z</span>  <span class="number">12.4</span>     <span class="number">12</span>      <span class="number">14</span></span><br></pre></td></tr></table></figure>
<h5 id="Query-data-with-a-SELECT-statement-and-an-INTO-clause"><a href="#Query-data-with-a-SELECT-statement-and-an-INTO-clause" class="headerlink" title="Query data with a SELECT statement and an INTO clause"></a>Query data with a <code>SELECT</code> statement and an <code>INTO</code> clause</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * INTO "newmeas" FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"result"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"written"</span>],<span class="string">"values"</span>:[[<span class="string">"1970-01-01T00:00:00Z"</span>,2]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p><code>SELECT</code> queries that include and <a href="/influxdb/v1.7/query_language/data_exploration/#the-into-clause"><code>INTO</code> clause</a> require a <code>POST</code> request.</p>
<p>The response shows that InfluxDB writes two points to the <code>newmeas</code> <a href="/influxdb/v1.7/concepts/glossary/#measurement">measurement</a>.<br>Note that the system uses epoch 0 (<code>1970-01-01T00:00:00Z</code>) as a <a href="/influxdb/v1.7/troubleshooting/frequently-asked-questions/#why-does-my-query-return-epoch-0-as-the-timestamp">null timestamp equivalent</a>.</p>
<h5 id="Create-a-database"><a href="#Create-a-database" class="headerlink" title="Create a database"></a>Create a database</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST <span class="string">'http://localhost:8086/query'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>A successful <a href="/influxdb/v1.7/query_language/database_management/#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>
<h3 id="Query-string-parameters-1"><a href="#Query-string-parameters-1" class="headerlink" title="Query string parameters"></a>Query string parameters</h3><table>
<thead>
<tr>
<th style="text-align:left">Query String Parameter</th>
<th style="text-align:left">Optional/Required</th>
<th style="text-align:left">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">chunked=[true \</td>
<td style="text-align:left">\&lt;number_of_points&gt;]</td>
<td style="text-align:left">Optional</td>
<td>Returns points in streamed batches instead of in a single response. If set to <code>true</code>, InfluxDB chunks responses by series or by every 10,000 points, whichever occurs first. If set to a specific value, InfluxDB chunks responses by series or by that number of points.*</td>
</tr>
<tr>
<td style="text-align:left">db=\&lt;database_name&gt;</td>
<td style="text-align:left">Required for database-dependent queries (most <a href="/influxdb/v1.7/query_language/spec/#select"><code>SELECT</code></a> queries and <a href="/influxdb/v1.7/query_language/spec/#show-continuous-queries"><code>SHOW</code></a> queries require this parameter).</td>
<td style="text-align:left">Sets the target <a href="/influxdb/v1.7/concepts/glossary/#database">database</a> for the query.</td>
</tr>
<tr>
<td style="text-align:left">epoch=[ns,u,µ,ms,s,m,h]</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Returns epoch timestamps with the specified precision. By default, InfluxDB returns timestamps in RFC3339 format with nanosecond precision. Both <code>u</code> and <code>µ</code> indicate microseconds.</td>
</tr>
<tr>
<td style="text-align:left">p=\<password></password></td>
<td style="text-align:left">Optional if you haven’t <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a>. Required if you’ve enabled authentication.**</td>
<td style="text-align:left">Sets the password for authentication if you’ve enabled authentication. Use with the query string parameter <code>u</code>.</td>
</tr>
<tr>
<td style="text-align:left">pretty=true</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Enables pretty-printed JSON output. While this is useful for debugging it is not recommended for production use as it consumes unnecessary network bandwidth.</td>
</tr>
<tr>
<td style="text-align:left">q=\<query></query></td>
<td style="text-align:left">Required</td>
<td style="text-align:left">InfluxQL string to execute.  See also <a href="/influxdb/v1.7/tools/api/#request-body">Request Body</a>.</td>
</tr>
<tr>
<td style="text-align:left">u=\<username></username></td>
<td style="text-align:left">Optional if you haven’t <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a>. Required if you’ve enabled authentication.*</td>
<td style="text-align:left">Sets the username for authentication if you’ve enabled authentication. The user must have read access to the database. Use with the query string parameter <code>p</code>.</td>
</tr>
</tbody>
</table>
<p>* InfluxDB does not truncate the number of rows returned for requests without the <code>chunked</code> parameter.<br>That behavior is configurable; see the <a href="/influxdb/v1.7/administration/config/#max-row-limit-0"><code>max-row-limit</code></a> configuration option for more information.</p>
<p>** The HTTP API also supports basic authentication.<br>Use basic authentication if you’ve <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a><br>and aren’t using the query string parameters <code>u</code> and <code>p</code>.<br>See below for an <a href="#create-a-database-using-basic-authentication">example</a> of basic authentication.</p>
<h4 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Query-data-with-a-SELECT-statement-and-return-pretty-printed-JSON"><a href="#Query-data-with-a-SELECT-statement-and-return-pretty-printed-JSON" class="headerlink" title="Query data with a SELECT statement and return pretty-printed JSON"></a>Query data with a <code>SELECT</code> statement and return pretty-printed JSON</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb&amp;pretty=true'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"results"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"statement_id"</span>: 0,</span><br><span class="line">            <span class="string">"series"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"name"</span>: <span class="string">"mymeas"</span>,</span><br><span class="line">                    <span class="string">"columns"</span>: [</span><br><span class="line">                        <span class="string">"time"</span>,</span><br><span class="line">                        <span class="string">"myfield"</span>,</span><br><span class="line">                        <span class="string">"mytag1"</span>,</span><br><span class="line">                        <span class="string">"mytag2"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="string">"values"</span>: [</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">"2017-03-01T00:16:18Z"</span>,</span><br><span class="line">                            33.1,</span><br><span class="line">                            null,</span><br><span class="line">                            null</span><br><span class="line">                        ],</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">"2017-03-01T00:17:18Z"</span>,</span><br><span class="line">                            12.4,</span><br><span class="line">                            <span class="string">"12"</span>,</span><br><span class="line">                            <span class="string">"14"</span></span><br><span class="line">                        ]</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Query-data-with-a-SELECT-statement-and-return-second-precision-epoch-timestamps"><a href="#Query-data-with-a-SELECT-statement-and-return-second-precision-epoch-timestamps" class="headerlink" title="Query data with a SELECT statement and return second precision epoch timestamps"></a>Query data with a <code>SELECT</code> statement and return second precision epoch timestamps</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb&amp;epoch=s'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[1488327378,33.1,null,null],[1488327438,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Create-a-database-using-HTTP-authentication"><a href="#Create-a-database-using-HTTP-authentication" class="headerlink" title="Create a database using HTTP authentication"></a>Create a database using HTTP authentication</h5><p>Valid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST <span class="string">'http://localhost:8086/query?u=myusername&amp;p=mypassword'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>A successful <a href="/influxdb/v1.7/query_language/database_management/#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>
<p>Invalid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST <span class="string">'http://localhost:8086/query?u=myusername&amp;p=notmypassword'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Create-a-database-using-basic-authentication"><a href="#Create-a-database-using-basic-authentication" class="headerlink" title="Create a database using basic authentication"></a>Create a database using basic authentication</h5><p>The following example uses valid credentials.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST -u myusername:mypassword <span class="string">'http://localhost:8086/query'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>A successful <a href="/influxdb/v1.7/query_language/database_management/#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>
<p>The following example uses invalid credentials.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -XPOST -u myusername:notmypassword <span class="string">'http://localhost:8086/query'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Request-body"><a href="#Request-body" class="headerlink" title="Request body"></a>Request body</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--<span class="meta">data</span>-urlencode <span class="string">"q=&lt;InfluxQL query&gt;"</span></span><br></pre></td></tr></table></figure>
<p>All queries must be URL encoded and follow<br><a href="/influxdb/v1.7/query_language/">InfluxQL</a> syntax.<br>Our example shows the <code>--data-urlencode</code> parameter from <code>curl</code>, which we use in all examples on this page.</p>
<h4 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h4><h5 id="Request-multiple-queries"><a href="#Request-multiple-queries" class="headerlink" title="Request multiple queries"></a>Request multiple queries</h5><p>Delimit multiple queries with a semicolon <code>;</code>.</p>
<h5 id="Submit-queries-from-a-file"><a href="#Submit-queries-from-a-file" class="headerlink" title="Submit queries from a file"></a>Submit queries from a file</h5><p>The API supports submitting queries from a file using a multipart <code>POST</code><br>request.<br>The queries in the file must be separated a semicolon (<code>;</code>).</p>
<p>Syntax:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -F <span class="string">"q=@&lt;path_to_file&gt;"</span> -F <span class="string">"async=true"</span> <span class="string">http:</span><span class="comment">//localhost:8086/query</span></span><br></pre></td></tr></table></figure>
<h5 id="Request-query-results-in-CSV-format"><a href="#Request-query-results-in-CSV-format" class="headerlink" title="Request query results in CSV format"></a>Request query results in CSV format</h5><p>Syntax:</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">"Accept: application/csv"</span> -G 'http:<span class="string">//localhost</span><span class="function">:8086</span>/query [<span class="string">...</span>]</span><br></pre></td></tr></table></figure>
<p>Note that when the request includes <code>-H &quot;Accept: application/csv&quot;</code>, the system returns timestamps in <code>epoch</code> format, not RFC3339 format.</p>
<h5 id="Bind-parameters"><a href="#Bind-parameters" class="headerlink" title="Bind parameters"></a>Bind parameters</h5><p>The API supports binding parameters to particular field values or tag values in<br>the <a href="/influxdb/v1.7/query_language/data_exploration/#the-where-clause"><code>WHERE</code> clause</a>.<br>Use the syntax <code>$&lt;placeholder_key&gt;</code> as a placeholder in the query, and URL<br>encode the map of placeholder keys to placeholder values in the request body:</p>
<p>Query syntax:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--data-urlencode <span class="comment">'q= SELECT [...] WHERE [ <span class="doctag">&lt;field_key&gt;</span> | <span class="doctag">&lt;tag_key&gt;</span> ] = $<span class="doctag">&lt;placeholder_key&gt;</span>'</span></span><br></pre></td></tr></table></figure>
<p>Map syntax:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--data-urlencode <span class="comment">'params=&#123;"<span class="doctag">&lt;placeholder_key&gt;</span>":[ <span class="doctag">&lt;placeholder_float_field_value&gt;</span> | <span class="doctag">&lt;placeholder_integer_field_value&gt;</span> | "<span class="doctag">&lt;placeholder_string_field_value&gt;</span>" | <span class="doctag">&lt;placeholder_boolean_field_value&gt;</span> | "<span class="doctag">&lt;placeholder_tag_value&gt;</span>" ]&#125;'</span></span><br></pre></td></tr></table></figure>
<p>Delimit multiple placeholder key-value pairs with comma <code>,</code>.</p>
<h4 id="Examples-3"><a href="#Examples-3" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Send-multiple-queries"><a href="#Send-multiple-queries" class="headerlink" title="Send multiple queries"></a>Send multiple queries</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb&amp;epoch=s'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas";SELECT mean("myfield") FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[1488327378,33.1,null,null],[1488327438,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;,&#123;<span class="string">"statement_id"</span>:1,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"mean"</span>],<span class="string">"values"</span>:[[0,22.75]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>The request includes two queries: <code>SELECT * FROM &quot;mymeas&quot;</code> and <code>SELECT mean(&quot;myfield&quot;) FROM &quot;mymeas&quot;&#39;</code>.<br>In the results, the system assigns a statement identifier to each query return.<br>The first query’s result has a <code>statement_id</code> of <code>0</code> and the second query’s result has a <code>statement_id</code> of <code>1</code>.</p>
<h5 id="Request-query-results-in-CSV-format-1"><a href="#Request-query-results-in-CSV-format-1" class="headerlink" title="Request query results in CSV format"></a>Request query results in CSV format</h5><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ curl -H <span class="string">"Accept: application/csv"</span> -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --<span class="keyword">data</span>-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">name</span>,tags,<span class="built_in">time</span>,myfield,mytag1,mytag2</span><br><span class="line">mymeas,,<span class="number">1488327378000000000</span>,<span class="number">33.1</span>,mytag1,mytag2</span><br><span class="line">mymeas,,<span class="number">1488327438000000000</span>,<span class="number">12.4</span>,<span class="number">12</span>,<span class="number">14</span></span><br></pre></td></tr></table></figure>
<p>The first point has no <a href="/influxdb/v1.7/concepts/glossary/#tag-value">tag values</a> for the <code>mytag1</code> and <code>mytag2</code> <a href="/influxdb/v1.7/concepts/glossary/#tag-key">tag keys</a>.</p>
<h5 id="Submit-queries-from-a-file-1"><a href="#Submit-queries-from-a-file-1" class="headerlink" title="Submit queries from a file"></a>Submit queries from a file</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -F <span class="string">"q=@queries.txt"</span> -F <span class="string">"async=true"</span> <span class="string">'http://localhost:8086/query'</span></span><br></pre></td></tr></table></figure>
<p>A sample of the queries in <code>queries.txt</code>:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE mydb;</span><br><span class="line">CREATE RETENTION<span class="built_in"> POLICY </span>four_weeks ON mydb DURATION 4w REPLICATION 1;</span><br></pre></td></tr></table></figure>
<h5 id="Bind-a-parameter-in-the-WHERE-clause-to-specific-tag-value"><a href="#Bind-a-parameter-in-the-WHERE-clause-to-specific-tag-value" class="headerlink" title="Bind a parameter in the WHERE clause to specific tag value"></a>Bind a parameter in the <code>WHERE</code> clause to specific tag value</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas" WHERE "mytag1" = $tag_value'</span> --data-urlencode <span class="string">'params=&#123;"tag_value":"12"&#125;'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[<span class="string">"2017-03-01T00:17:18Z"</span>,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>The request maps <code>$tag_value</code> to <code>12</code>.<br>InfluxDB stores <a href="/influxdb/v1.7/concepts/glossary/#tag-value">tag values</a> as strings they and must be double quoted in the request.</p>
<h5 id="Bind-a-parameter-in-the-WHERE-clause-to-a-numerical-field-value"><a href="#Bind-a-parameter-in-the-WHERE-clause-to-a-numerical-field-value" class="headerlink" title="Bind a parameter in the WHERE clause to a numerical field value"></a>Bind a parameter in the <code>WHERE</code> clause to a numerical field value</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas" WHERE "myfield" &gt; $field_value'</span> --data-urlencode <span class="string">'params=&#123;"field_value":30&#125;'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[<span class="string">"2017-03-01T00:16:18Z"</span>,33.1,null,null]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>The request maps <code>$field_value</code> to <code>30</code>.<br>The value <code>30</code> does not require double quotes because <code>myfield</code> stores numerical <a href="/influxdb/v1.7/concepts/glossary/#field-value">field values</a>.</p>
<h5 id="Bind-two-parameters-in-the-WHERE-clause-to-a-specific-tag-value-and-numerical-field-value"><a href="#Bind-two-parameters-in-the-WHERE-clause-to-a-specific-tag-value-and-numerical-field-value" class="headerlink" title="Bind two parameters in the WHERE clause to a specific tag value and numerical field value"></a>Bind two parameters in the <code>WHERE</code> clause to a specific tag value and numerical field value</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas" WHERE "mytag1" = $tag_value AND  "myfield" &lt; $field_value'</span> --data-urlencode <span class="string">'params=&#123;"tag_value":"12","field_value":30&#125;'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[<span class="string">"2017-03-01T00:17:18Z"</span>,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>The request maps <code>$tag_value</code> to <code>12</code> and <code>$field_value</code> to <code>30</code>.</p>
<h3 id="Status-codes-and-responses"><a href="#Status-codes-and-responses" class="headerlink" title="Status codes and responses"></a>Status codes and responses</h3><p>Responses are returned in JSON.<br>Include the query string parameter <code>pretty=true</code><br>to enable pretty-print JSON.</p>
<h4 id="Summary-table"><a href="#Summary-table" class="headerlink" title="Summary table"></a>Summary table</h4><table>
<thead>
<tr>
<th style="text-align:left">HTTP status code</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">200 OK</td>
<td style="text-align:left">Success! The returned JSON offers further information.</td>
</tr>
<tr>
<td style="text-align:left">400 Bad Request</td>
<td style="text-align:left">Unacceptable request. Can occur with a syntactically incorrect query. The returned JSON offers further information.</td>
</tr>
<tr>
<td style="text-align:left">401 Unauthorized</td>
<td style="text-align:left">Unacceptable request. Can occur with invalid authentication credentials.</td>
</tr>
</tbody>
</table>
<h4 id="Examples-4"><a href="#Examples-4" class="headerlink" title="Examples"></a>Examples</h4><h5 id="A-successful-request-that-returns-data"><a href="#A-successful-request-that-returns-data" class="headerlink" title="A successful request that returns data"></a>A successful request that returns data</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 19:22:54 GMT</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"series"</span>:[&#123;<span class="string">"name"</span>:<span class="string">"mymeas"</span>,<span class="string">"columns"</span>:[<span class="string">"time"</span>,<span class="string">"myfield"</span>,<span class="string">"mytag1"</span>,<span class="string">"mytag2"</span>],<span class="string">"values"</span>:[[<span class="string">"2017-03-01T00:16:18Z"</span>,33.1,null,null],[<span class="string">"2017-03-01T00:17:18Z"</span>,12.4,<span class="string">"12"</span>,<span class="string">"14"</span>]]&#125;]&#125;]&#125;</span><br></pre></td></tr></table></figure>
<h5 id="A-successful-request-that-returns-an-error"><a href="#A-successful-request-that-returns-an-error" class="headerlink" title="A successful request that returns an error"></a>A successful request that returns an error</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -G <span class="string">'http://localhost:8086/query?db=mydb1'</span> --data-urlencode <span class="string">'q=SELECT * FROM "mymeas"'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 19:23:48 GMT</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"results"</span>:[&#123;<span class="string">"statement_id"</span>:0,<span class="string">"error"</span>:<span class="string">"database not found: mydb1"</span>&#125;]&#125;</span><br></pre></td></tr></table></figure>
<h5 id="An-incorrectly-formatted-query"><a href="#An-incorrectly-formatted-query" class="headerlink" title="An incorrectly formatted query"></a>An incorrectly formatted query</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -G <span class="string">'http://localhost:8086/query?db=mydb'</span> --data-urlencode <span class="string">'q=SELECT *'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 400 Bad Request</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 19:24:25 GMT</span><br><span class="line">Content-Length: 76</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"error parsing query: found EOF, expected FROM at line 1, char 9"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Query-data-with-invalid-authentication-credentials"><a href="#Query-data-with-invalid-authentication-credentials" class="headerlink" title="Query data with invalid authentication credentials"></a>Query data with invalid authentication credentials</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i  -XPOST <span class="string">'http://localhost:8086/query?u=myusername&amp;p=notmypassword'</span> --data-urlencode <span class="string">'q=CREATE DATABASE "mydb"'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 401 Unauthorized</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">Www-Authenticate: Basic realm=<span class="string">"InfluxDB"</span></span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 19:11:26 GMT</span><br><span class="line">Content-Length: 33</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="write-HTTP-endpoint"><a href="#write-HTTP-endpoint" class="headerlink" title="/write HTTP endpoint"></a><code>/write</code> HTTP endpoint</h2><p>The <code>/write</code> endpoint accepts <code>POST</code> HTTP requests.<br>Use this endpoint to write data to a pre-existing database.</p>
<h3 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition"></a>Definition</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST <span class="string">http:</span><span class="comment">//localhost:8086/write</span></span><br></pre></td></tr></table></figure>
<h3 id="Query-string-parameters-2"><a href="#Query-string-parameters-2" class="headerlink" title="Query string parameters"></a>Query string parameters</h3><table>
<thead>
<tr>
<th style="text-align:left">Query String Parameter</th>
<th style="text-align:left">Optional/Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">consistency=[any,one,quorum,all]</td>
<td style="text-align:left">Optional, available with <a href="/enterprise_influxdb/v1.6/">InfluxDB Enterprise clusters</a> only.</td>
<td style="text-align:left">Sets the write consistency for the point. InfluxDB assumes that the write consistency is <code>one</code> if you do not specify <code>consistency</code>. See the <a href="/enterprise_influxdb/v1.6/concepts/clustering#write-consistency">InfluxDB Enterprise documentation</a> for detailed descriptions of each consistency option.</td>
</tr>
<tr>
<td style="text-align:left">db=\<database></database></td>
<td style="text-align:left">Required</td>
<td style="text-align:left">Sets the target <a href="/influxdb/v1.7/concepts/glossary/#database">database</a> for the write.</td>
</tr>
<tr>
<td style="text-align:left">p=\<password></password></td>
<td style="text-align:left">Optional if you haven’t <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a>. Required if you’ve enabled authentication.*</td>
<td style="text-align:left">Sets the password for authentication if you’ve enabled authentication. Use with the query string parameter <code>u</code>.</td>
</tr>
<tr>
<td style="text-align:left">precision=[ns,u,ms,s,m,h]</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Sets the precision for the supplied Unix time values. InfluxDB assumes that timestamps are in nanoseconds if you do not specify <code>precision</code>.**</td>
</tr>
<tr>
<td style="text-align:left">rp=\&lt;retention_policy_name&gt;</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Sets the target <a href="/influxdb/v1.7/concepts/glossary/#retention-policy-rp">retention policy</a> for the write. InfluxDB writes to the <code>DEFAULT</code> retention policy if you do not specify a retention policy.</td>
</tr>
<tr>
<td style="text-align:left">u=\<username></username></td>
<td style="text-align:left">Optional if you haven’t <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a>. Required if you’ve enabled authentication.*</td>
<td style="text-align:left">Sets the username for authentication if you’ve enabled authentication. The user must have write access to the database. Use with the query string parameter <code>p</code>.</td>
</tr>
</tbody>
</table>
<p>* The HTTP API also supports basic authentication.<br>Use basic authentication if you’ve <a href="/influxdb/v1.7/administration/authentication_and_authorization/#set-up-authentication">enabled authentication</a><br>and aren’t using the query string parameters <code>u</code> and <code>p</code>.<br>See below for an <a href="#write-a-point-to-the-database-mydb-using-basic-authentication">example</a> of basic authentication.</p>
<p>** We recommend using the least precise precision possible as this can result<br>in significant improvements in compression.</p>
<h4 id="Examples-5"><a href="#Examples-5" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Write-a-point-to-the-database-mydb-with-a-timestamp-in-seconds"><a href="#Write-a-point-to-the-database-mydb-with-a-timestamp-in-seconds" class="headerlink" title="Write a point to the database mydb with a timestamp in seconds"></a>Write a point to the database <code>mydb</code> with a timestamp in seconds</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb&amp;precision=s"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=90 1463683075'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:33:23 GMT</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-the-database-mydb-and-the-retention-policy-myrp"><a href="#Write-a-point-to-the-database-mydb-and-the-retention-policy-myrp" class="headerlink" title="Write a point to the database mydb and the retention policy myrp"></a>Write a point to the database <code>mydb</code> and the retention policy <code>myrp</code></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb&amp;rp=myrp"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=90'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:34:31 GMT</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-the-database-mydb-using-HTTP-authentication"><a href="#Write-a-point-to-the-database-mydb-using-HTTP-authentication" class="headerlink" title="Write a point to the database mydb using HTTP authentication"></a>Write a point to the database <code>mydb</code> using HTTP authentication</h5><p>Valid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb&amp;u=myusername&amp;p=mypassword"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=91'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:34:56 GMT</span><br></pre></td></tr></table></figure>
<p>Invalid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb&amp;u=myusername&amp;p=notmypassword"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=91'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 401 Unauthorized</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">Www-Authenticate: Basic realm=<span class="string">"InfluxDB"</span></span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:40:30 GMT</span><br><span class="line">Content-Length: 33</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-the-database-mydb-using-basic-authentication"><a href="#Write-a-point-to-the-database-mydb-using-basic-authentication" class="headerlink" title="Write a point to the database mydb using basic authentication"></a>Write a point to the database <code>mydb</code> using basic authentication</h5><p>Valid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST -u myusername:mypassword <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=91'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:36:40 GMT</span><br></pre></td></tr></table></figure>
<p>Invalid credentials:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST -u myusername:notmypassword <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=91'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 401 Unauthorized</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">Www-Authenticate: Basic realm=<span class="string">"InfluxDB"</span></span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 17:46:40 GMT</span><br><span class="line">Content-Length: 33</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Request-body-1"><a href="#Request-body-1" class="headerlink" title="Request body"></a>Request body</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--data-binary '&lt;Data <span class="keyword">in</span> <span class="keyword">Line</span> Protocol <span class="keyword">format</span>&gt;'</span><br></pre></td></tr></table></figure>
<p>All data must be binary encoded and in the<br><a href="/influxdb/v1.7/concepts/glossary/#line-protocol">Line Protocol</a> format.<br>Our example shows the <code>--data-binary</code> parameter from curl, which we will use in<br>all examples on this page.<br>Using any encoding method other than <code>--data-binary</code> will likely lead to issues;<br><code>-d</code>, <code>--data-urlencode</code>, and <code>--data-ascii</code> may strip out newlines or<br>introduce new, unintended formatting.</p>
<p>Options:</p>
<ul>
<li>Write several points to the database with one request by separating each point<br>by a new line.</li>
<li><p>Write points from a file with the <code>@</code> flag.<br>The file should contain a batch of points in the Line Protocol format.<br>Individual points must be on their own line and separated by newline characters<br>(<code>\n</code>).<br>Files containing carriage returns will cause parser errors.</p>
<p>  We recommend writing points in batches of 5,000 to 10,000 points.<br>Smaller batches, and more HTTP requests, will result in sub-optimal performance.</p>
</li>
</ul>
<h4 id="Examples-6"><a href="#Examples-6" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Write-a-point-to-the-database-mydb-with-a-nanosecond-timestamp"><a href="#Write-a-point-to-the-database-mydb-with-a-nanosecond-timestamp" class="headerlink" title="Write a point to the database mydb with a nanosecond timestamp"></a>Write a point to the database <code>mydb</code> with a nanosecond timestamp</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=90 1463683075000000000'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 18:02:57 GMT</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-the-database-mydb-with-the-local-server’s-nanosecond-timestamp"><a href="#Write-a-point-to-the-database-mydb-with-the-local-server’s-nanosecond-timestamp" class="headerlink" title="Write a point to the database mydb with the local server’s nanosecond timestamp"></a>Write a point to the database <code>mydb</code> with the local server’s nanosecond timestamp</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary <span class="string">'mymeas,mytag=1 myfield=90'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 18:03:44 GMT</span><br></pre></td></tr></table></figure>
<h5 id="Write-several-points-to-the-database-mydb-by-separating-points-with-a-new-line"><a href="#Write-several-points-to-the-database-mydb-by-separating-points-with-a-new-line" class="headerlink" title="Write several points to the database mydb by separating points with a new line"></a>Write several points to the database <code>mydb</code> by separating points with a new line</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary <span class="string">'mymeas,mytag=3 myfield=89 1463689152000000000</span></span><br><span class="line"><span class="string">mymeas,mytag=2 myfield=34 1463689152000000000'</span></span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 18:04:02 GMT</span><br></pre></td></tr></table></figure>
<h5 id="Write-several-points-to-the-database-mydb-from-the-file-data-txt"><a href="#Write-several-points-to-the-database-mydb-from-the-file-data-txt" class="headerlink" title="Write several points to the database mydb from the file data.txt"></a>Write several points to the database <code>mydb</code> from the file <code>data.txt</code></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i -XPOST <span class="string">"http://localhost:8086/write?db=mydb"</span> --data-binary @data.txt</span><br><span class="line"></span><br><span class="line">HTTP/1.1 204 No Content</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Request-Id: [...]</span><br><span class="line">X-Influxdb-Version: 1.4.x</span><br><span class="line">Date: Wed, 08 Nov 2017 18:08:11 GMT</span><br></pre></td></tr></table></figure>
<p>A sample of the data in <code>data.txt</code>:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mymeas,<span class="attribute">mytag1</span>=1 <span class="attribute">value</span>=21 1463689680000000000</span><br><span class="line">mymeas,<span class="attribute">mytag1</span>=1 <span class="attribute">value</span>=34 1463689690000000000</span><br><span class="line">mymeas,<span class="attribute">mytag2</span>=8 <span class="attribute">value</span>=78 1463689700000000000</span><br><span class="line">mymeas,<span class="attribute">mytag3</span>=9 <span class="attribute">value</span>=89 1463689710000000000</span><br></pre></td></tr></table></figure></p>
<h3 id="Status-codes-and-responses-1"><a href="#Status-codes-and-responses-1" class="headerlink" title="Status codes and responses"></a>Status codes and responses</h3><p>In general, status codes of the form <code>2xx</code> indicate success, <code>4xx</code> indicate<br>that InfluxDB could not understand the request, and <code>5xx</code> indicate that the<br>system is overloaded or significantly impaired.<br>Errors are returned in JSON.</p>
<h4 id="Summary-table-1"><a href="#Summary-table-1" class="headerlink" title="Summary table"></a>Summary table</h4><table>
<thead>
<tr>
<th style="text-align:left">HTTP status code</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">204 No Content</td>
<td style="text-align:left">Success!</td>
</tr>
<tr>
<td style="text-align:left">400 Bad Request</td>
<td style="text-align:left">Unacceptable request. Can occur with a Line Protocol syntax error or if a user attempts to write values to a field that previously accepted a different value type. The returned JSON offers further information.</td>
</tr>
<tr>
<td style="text-align:left">401 Unauthorized</td>
<td style="text-align:left">Unacceptable request. Can occur with invalid authentication credentials.</td>
</tr>
<tr>
<td style="text-align:left">404 Not Found</td>
<td style="text-align:left">Unacceptable request. Can occur if a user attempts to write to a database that does not exist. The returned JSON offers further information.</td>
</tr>
<tr>
<td style="text-align:left">500 Internal Server Error</td>
<td style="text-align:left">The system is overloaded or significantly impaired. Can occur if a user attempts to write to a retention policy that does not exist. The returned JSON offers further information.</td>
</tr>
</tbody>
</table>
<h4 id="Examples-7"><a href="#Examples-7" class="headerlink" title="Examples"></a>Examples</h4><h5 id="A-successful-write"><a href="#A-successful-write" class="headerlink" title="A successful write"></a>A successful write</h5><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">204</span> No Content</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-with-an-incorrect-timestamp"><a href="#Write-a-point-with-an-incorrect-timestamp" class="headerlink" title="Write a point with an incorrect timestamp"></a>Write a point with an incorrect timestamp</h5><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1</span>.<span class="number">1</span> <span class="number">400</span> Bad Request</span><br><span class="line"><span class="string">[...]</span></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"unable to parse 'mymeas,mytag=1 myfield=91 abc123': bad timestamp"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Write-an-integer-to-a-field-that-previously-accepted-a-float"><a href="#Write-an-integer-to-a-field-that-previously-accepted-a-float" class="headerlink" title="Write an integer to a field that previously accepted a float"></a>Write an integer to a field that previously accepted a float</h5><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1</span>.<span class="number">1</span> <span class="number">400</span> Bad Request</span><br><span class="line"><span class="string">[...]</span></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"field type conflict: input field \"</span>myfield\<span class="string">" on measurement \"</span>mymeas\<span class="string">" is type int64, already exists as type float"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-with-invalid-authentication-credentials"><a href="#Write-a-point-with-invalid-authentication-credentials" class="headerlink" title="Write a point with invalid authentication credentials"></a>Write a point with invalid authentication credentials</h5><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1</span>.<span class="number">1</span> <span class="number">401</span> Unauthorized</span><br><span class="line"><span class="string">[...]</span></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"authorization failed"</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-a-database-that-doesn’t-exist"><a href="#Write-a-point-to-a-database-that-doesn’t-exist" class="headerlink" title="Write a point to a database that doesn’t exist"></a>Write a point to a database that doesn’t exist</h5><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1</span>.<span class="number">1</span> <span class="number">404</span> Not Found</span><br><span class="line"><span class="string">[...]</span></span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"database not found: \"</span>mydb1\<span class="string">""</span>&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Write-a-point-to-a-retention-policy-that-doesn’t-exist"><a href="#Write-a-point-to-a-retention-policy-that-doesn’t-exist" class="headerlink" title="Write a point to a retention policy that doesn’t exist"></a>Write a point to a retention policy that doesn’t exist</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 500 Internal<span class="built_in"> Server </span>Error</span><br><span class="line">[<span class="built_in">..</span>.]</span><br><span class="line">&#123;<span class="string">"error"</span>:<span class="string">"retention policy not found: myrp"</span>&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    


  
</article>



    
<div class="share">
    

    
        <div class="addthis_sharing_toolbox"></div>
    
</div>







    
        <section id="comments">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'http://1byte.pro/influxdb/index.html';
            this.page.identifier = 'influxdb/index.html';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//cancellara.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <aside class="comment-bar">
        <a href="javascript:void(0);">
            <i class="fa fa-commenting-o animated infinite pulse"></i>
            <i class="fa fa-spinner fa-pulse"></i>
            <span class="count-comment"></span>
        </a>
    </aside>
    <script>
        var $commentBar = $("#comments aside.comment-bar");
        var load$hide = function(){
            $commentBar.find("a > i").toggle();
            loadComment();
            $commentBar.fadeOut(800);
        }
        $commentBar.click(function(){
            load$hide();
        })
        $commentBar.children("a").hover(function(){
            load$hide();
        })
        if (window.location.hash === "#comments") {
            load$hide();
        }
    </script>

</section>


    <script id="dsq-count-scr" src="//cancellara.disqus.com/count.js" async></script>
    <span class="disqus-comment-count" data-disqus-identifier="influxdb/index.html"></span>
    <span class="disqus-comment-count" data-disqus-url="http://1byte.pro/influxdb/index.html"></span>
    <script>
        $(".disqus-comment-count").hide();
        var $disqusCount = $(".disqus-comment-count");
        $disqusCount.bind("DOMNodeInserted", function(e) {
            $(".count-comment").text(
                $(this).text().replace(/[^0-9]/ig,"")
            )
            DISQUSWIDGETS.getCount({reset: true});
        })
    </script>


    





    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2019 Gavin Wei
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a>
            </div>
        </div>
        
            <div class="visit">
                
                
                
            </div>
        
    </div>
</footer>

    </div>
    
    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-123125086-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>